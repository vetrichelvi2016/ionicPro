var snap=snap||{};!function(e,n){var a={logging:{level:"none"},config:{useUserIQ:!0,baseUrl:""},baseUrl:n.baseUrl||""};e.extend(n,a)}(jQuery,snap);
function isMacChrome64Bit(){return navigator.appVersion.indexOf("Macintosh")!=-1&&"Chrome"==get_browser()&&get_browser_version()>38}function isMacNon64Bit(){return("Chrome"!=get_browser()||get_browser_version()<38)&&navigator.appVersion.indexOf("Macintosh")!=-1}function GetOS(){return navigator.appVersion.toLowerCase().indexOf("ipad")>=0?"ipad":navigator.appVersion.toLowerCase().indexOf("macintosh")>=0?"macintosh":navigator.appVersion.toLowerCase().indexOf("windows")>=0?"windows":"notavailable"}function ValidateOS(){return navigator.appVersion.toLowerCase().indexOf("ipad")>=0||(!!isMobile.iOS()||(!!isMobile.Android()||(navigator.appVersion.toLowerCase().indexOf("macintosh")>=0||navigator.appVersion.toLowerCase().indexOf("windows")>=0)))}function screenSharingExtLink(){isChrome?window.open("https://chrome.google.com/webstore/detail/connected-care-screen-sha/padchhoieclaaocgjbfepahaakajgllb"):isFirefox&&window.open("https://addons.mozilla.org/en-US/firefox/addon/screen-sharing-extension-for-s/")}function goToApp(e){setTimeout(function(){window.location=e},25)}function isBrowser64Bit(){return navigator.userAgent.indexOf("WOW64")>-1||"Win64"==window.navigator.platform}function get_browser(){var e,i=navigator.userAgent,r=i.match(/(opera|chrome|safari|firefox|edge|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(r[1]))return e=/\brv[ :]+(\d+)/g.exec(i)||[],"IE "+(e[1]||"");if("Chrome"===r[1]){if(e=i.match(/\bOPR\/(\d+)/),null!=e)return"Opera ";if(e=i.match(/edge\/(\d+)/i),null!=e)return"Edge"}return r=r[2]?[r[1],r[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=i.match(/version\/(\d+)/i))&&r.splice(1,1,e[1]),r[0]}function get_browser_version(){var e,i=navigator.userAgent,r=i.match(/(opera|chrome|safari|firefox|edge|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(r[1]))return e=/\brv[ :]+(\d+)/g.exec(i)||[],"IE "+(e[1]||"");if("Chrome"===r[1]){if(e=i.match(/\bOPR\/(\d+)/),null!=e)return e[1];if(e=i.match(/edge\/(\d+)/i),null!=e)return e[1]}return r=r[2]?[r[1],r[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=i.match(/version\/(\d+)/i))&&r.splice(1,1,e[1]),r[1]}function showRecommendedBrowser(){if("false"==localStorage.showRecommendedBrowser)return!1;var e=get_browser(),i=get_browser_version();if("Chrome"==e)return!(i>=snap.utilities.browsers.chrome)&&(showRecommendedBrowser.isVersion=!0,!0);if("Firefox"==e)return!(i>=snap.utilities.browsers.firefox)&&(showRecommendedBrowser.isVersion=!0,!0);if(isMobile.any())return!1;var r=$(window).width();return!(r<=720)}var isMobile={Android:function(){var e=navigator.userAgent;return e.match(/Android/i)||e.match(/Dalvik/i)||e.match(/GINGERBREAD/i)||e.match(/LOLLIPOP/i)||e.match(/Linux;.*Mobile Safari/)||e.match(/Linux 1\..*AppleWebKit/)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}},isOpera=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,isFirefox="undefined"!=typeof InstallTrigger,isSafari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>=0,isChrome=!!window.chrome&&!isOpera,isIE=!!document.documentMode;
function initializeAddressInputs(){$("span.addressHintText").text("Street, Apt/Unit #, City, State/Province, Zip/Postal Code"),$(".addressPlaceholder").attr("placeholder","Full Address")}function isEmpty(n){return"undefined"==typeof n||null===n||""===n||(!("number"!=typeof n||!isNaN(n))||!!(n instanceof Date&&isNaN(Number(n))))}function removePhoneFormat(n){if(n=$.trim(n),null!==n){var t=!1;n.indexOf("+")>-1&&(t=!0);var e=n.trim().replace(/[^0-9]+/gi,"");return t&&(e="+"+e),e}return""}function getNumbersFromString(n){return null!==n?(n=$.trim(n),n.replace(/[^0-9]+/gi,"")):n}function getNumbersAndLettersFromString(n){return null!==n?(n=$.trim(n),n.replace(/[^A-Za-z0-9]+/gi,"")):n}function formatJSONDate1(n){var t,e,a,i,s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];if(null!=n){var r=n;if("string"!=typeof r||"/Date("==r.substring(0,6))return i="string"==typeof r?new Date(parseInt(r.substring(6,r.length-2))):new Date(r),t=i.getUTCMonth(),a=s[t],e=i.getUTCDate()<10?"0"+i.getUTCDate():i.getUTCDate(),a+" "+e+", "+i.getUTCFullYear();var o=r.substring(0,4);return t=r.substring(5,7),a=s[parseInt(t-1)],e=r.substring(8,10),a+" "+e+", "+o}return""}function formatJSONDateShort(n){var t,e,a;if(null!=n){var i=n;if("string"!=typeof i||"/Date("==i.substring(0,6))return a="string"==typeof i?new Date(parseInt(i.substring(6,i.length-2))):new Date(i),t=a.getUTCMonth()+1,e=a.getUTCDate()<10?"0"+a.getUTCDate():a.getUTCDate(),t+"/"+e+"/"+a.getUTCFullYear();var s=i.substring(0,4);return t=i.substring(5,7),e=i.substring(8,10),t+"/"+e+"/"+s}return""}function SnapDateTime1(n){return formatJSONDate1(n)+" "+GetFormattedTimeFromTimeStamp(n)}function SnapDateTimeShort(n){return formatJSONDateShort(n)+" "+GetFormattedTimeFromTimeStamp(n)}function GetFormattedTimeFromTimeStamp(n){var t,e,a=n;if("string"!=typeof a||"/Date("==a.substring(0,6)){var i;i="string"==typeof a?new Date(parseInt(a.substring(6,a.length-2))):new Date(a),t=i.getUTCHours(),e=i.getUTCMinutes()}else t=parseInt(a.substring(11,13)),e=parseInt(a.substring(14,16));var s="AM";return t>=12&&(s="PM"),t>12&&(t-=12),0===t&&(t=12),e<10&&(e="0"+e),t+":"+e+" "+s}function GetSnap24HourTime(n){var t,e,a=n;if("string"!=typeof a||"/Date("==a.substring(0,6)){var i;i="string"==typeof a?new Date(parseInt(a.substring(6,a.length-2))):new Date(a),t=i.getUTCHours(),e=i.getUTCMinutes()}else t=parseInt(a.substring(11,13)),e=parseInt(a.substring(14,16));return e<10&&(e="0"+e),t+":"+e}function logError(n,t,e,a){var i={MessageOrigin:"snap.common.js: "+n,MessageType:t,Message:e?e.toString().replace(/'/g,"\\'"):null,Recommendation:a?a.toString().replace(/'/g,"\\'"):null};$.ajax({type:"POST",url:"/api/v2.1/log-messages",data:JSON.stringify(i),contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(n){sessionStorage.setItem("lastErrorId",n.data[0].id),location.href="/public/#/error/"}).fail(function(){location.href="/public/#/error/"})}function sortResults(n,t,e){return n&&"undefined"!=n&&(n=n.sort(function(n,a){if(e){var i=n[t]<a[t]?-1:0;return n[t]>a[t]?1:i}var i=a[t]<n[t]?-1:0;return a[t]>n[t]?1:i})),n}function getUrlParameter(n){var t,e,a=decodeURIComponent(window.location.search.substring(1)),i=a.split("&");for(e=0;e<i.length;e++)if(t=i[e].split("="),t[0]===n)return void 0===t[1]||t[1]}function textValidate(n){if(n.shiftKey||n.ctrlKey||n.altKey)n.preventDefault();else{var t=n.keyCode;8==t||9==t||46==t||t>=35&&t<=40||t>=48&&t<=57||t>=96&&t<=105||n.preventDefault()}}function textValidateWithLetters(n){if(n.shiftKey||n.ctrlKey||n.altKey)n.preventDefault();else{var t=n.keyCode;8==t||9==t||46==t||t>=35&&t<=40||t>=48&&t<=92||t>=96&&t<=105||109==t||189==t||n.preventDefault()}}function isCharCodeAlphaNumeric(n){var t=n.charCodeAt();return t>47&&t<58||t>64&&t<91||t>96&&t<123}function initializeToolTip(n){$("."+n).kendoTooltip({width:250,position:"top"}).data("kendoTooltip")}var snap=snap||{};snap.getScript=snap.getScript||function(n,t,e){t=t||{};var a=!0;return t.cache&&(a=t.cache),a&&n.indexOf("v=v2.16.1.0.35")<0&&(n+=n.indexOf("?")>=0?"&v=v2.16.1.0.35":"?v=v2.16.1.0.35"),t=$.extend(t,{dataType:"script",cache:a,url:(e||"")+n}),jQuery.ajax(t)};var onSnapNotification=function(n){n.element.parent().css({zIndex:20004})};snap.regExMail=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,window.addEventListener("beforeunload",function(){return snap.isUnloading=!0,null}),$(document).ajaxSend(function(n,t,e){var a=!1;e.url=snap.config.baseUrl+e.url,/^\//.test(e.url)&&(a=!0),/^http[s]?:\/\/[^\/]+\/api/.test(e.url)&&(a=!0),a&&!isEmpty(snap.baseUrl)&&/^\/api\//.test(e.url)&&(e.url=snap.baseUrl+e.url),snap&&a&&snap.userSession?(!snap.userSession.token||e.headers&&e.headers.Authorization||(snap.userSession.isGuest?t.setRequestHeader("Authorization","JWT-Participant "+snap.userSession.token):t.setRequestHeader("Authorization","Bearer "+snap.userSession.token)),!snap.userSession.apiSessionId&&snap.apiSessionId&&(snap.userSession.apiSessionId=snap.apiSessionId),snap.userSession.apiSessionId&&t.setRequestHeader("X-Api-Session-Id",snap.userSession.apiSessionId),snap.userSession.timeZoneSystemId&&t.setRequestHeader("Time-Zone",snap.userSession.timeZoneSystemId)):snap&&a&&snap.apiSessionId&&t.setRequestHeader("X-Api-Session-Id",snap.apiSessionId)}),snap.submitForm=function(n,t){var e=$("<form>",{action:n.url,method:n.method});$.each(t,function(n,t){e.append($("<input>",{name:n,value:t,type:"hidden"}))}),e.appendTo("body").submit()};var snapSuccess=function(n){snap.SnapNotification().success(n)},snapSuccessHtml=function(n){snap.SnapNotification().successHtml(n)},snapError=function(n){snap.SnapNotification().error(n)},snapInfo=function(n){snap.SnapNotification().info(n)},snapAnnouncement=function(n){snap.SnapNotification().announcement(n)},snapSetInterval=function(n,t){var e=!1;return function(){e||(n(),setTimeout(arguments.callee,t))}(),function(){e=!0}},snapRemoveErrorNotification=function(){$(".snapError").parent().parent().remove()},showSnapConfirmation=function(){var n=$("<span>").kendoNotification({pinned:!0,position:{top:30,right:30},stacking:"down",autoHideAfter:0,hideOnClick:!0,button:!0,templates:[{type:"confirmation",template:"<div class='snapInfo'><span class='icon_new'></span><h3>Confirmation:</h3><p>  #= content #  </p></div><div><span id='btnConfirmNo'  class='confirm-btnNo' style='float:right'>No</span><span id='btnConfirmYes'  class='confirm-btnYes' style='float:left'>Yes</span></div>"}],show:onSnapNotification}).data("kendoNotification");return function(t,e){n.show(t,e)}}(),snapConfirm=function(n){showSnapConfirmation(n,"confirmation")},showSnapAlert=function(){var n=$("<span>").kendoNotification({pinned:!0,position:{top:30,right:30},stacking:"down",autoHideAfter:0,hideOnClick:!1,modal:!0,button:!0,show:onSnapNotification,templates:[{type:"confirmation",template:"<div class='snapInfo'><span class='icon_new'></span><h3>Confirmation:</h3><p> #: content # </p></div><span id='btnAlertOk'  class='confirm-btnYes center'>Ok</span>"}]}).data("kendoNotification");return function(t,e){n.show(t,e)}}();$(document).ready(function(){$(".phoneNumberFormat").each(function(){var n=$(this).data("phone-format"),t=$(this).html(),e=formatPhoneNumber(n);$(this).html(t.replace(n,"")+e)}),initializeAddressInputs()});
snap.string=function(){"use strict";return{format:function(){for(var e=Array.prototype.slice.call(arguments),r=e.shift(),t=0,n=e.length;t<n;t++){var a=new RegExp("\\{"+t+"\\}","gi");r=r.replace(a,e[t])}return r},formatURIComponents:function(){for(var e=Array.prototype.slice.call(arguments),r=e.shift(),t=0,n=e.length;t<n;t++)if(isEmpty(e[t])){var a=new RegExp("\\{"+t+"\\}","gi");r=r.replace(a,"%27%27")}else{var a=new RegExp("\\{"+t+"\\}","gi");r=r.replace(a,encodeURIComponent(e[t]))}return r},formatUSPhone:function(e){var r=e.replace(/[^0-9]/g,"");return r=r.replace(/^1/,""),10===r.length?r=r.replace(/(\d\d\d)(\d\d\d)(\d\d\d\d)/,"($1) $2-$3"):e},formatHtml:function(){for(var e=Array.prototype.slice.call(arguments),r=e.shift(),t=0,n=e.length;t<n;t++){var a=new RegExp("\\{"+t+"\\}","gi");r=r.replace(a,$("<div/>").text(e[t]).html())}return r},formatString:function(){var e=/\{([^\{\}]*)\}/g,r=Array.prototype.slice.call(arguments),t=r.shift();return $.isPlainObject(arguments[1])&&(r=arguments[1]),t.replace(e,function(e,t){var n=t.split("."),a=r;try{for(var o=0,i=n.length;o<i;o++)a=a[n[o]]}catch(p){a=e}return"string"==typeof a||"number"==typeof a?a:e})},template:function(e,r){if("object"!=typeof r)return e;for(var t in r)if("function"!=typeof r[t]){var n=new RegExp("{"+t+"}","gm");e=e.replace(n,r[t])}return e},getPagePath:function(e){return snap.paths[e]||""}}}();
function getDefaultProfileImageForClinician(e){var t="M"===e?"/images/Doctor-Male.gif":"/images/default-user.jpg";return"F"===e?"/images/Doctor-Female.gif":t}function isDefaultProfileImageForClinician(e){return"/images/Doctor-Male.gif"===e||"/images/Doctor-Female.gif"===e||"/images/default-user.jpg"===e}function getDefaultProfileImageForPatient(e){var t="M"===e?"/images/Patient-Male.gif":"/images/default-user.jpg";return"F"===e?"/images/Patient-Female.gif":t}function isDefaultProfileImageForPatient(e){return"/images/Patient-Female.gif"===e||"/images/Patient-Male.gif"===e||"/images/default-user.jpg"===e}var ProfileImageUploader,ImagesHelper={};!function(){function e(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var a=e.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return new Blob([n],{type:a})}function t(e){if(0===e.files.length)return e.preventDefault(),snapError("No file selected."),!1;var t=$(e.files).is(function(t){return!/^\.(jpg|png|jpeg|gif)$/i.test(e.files[t].extension||"")});if(t)return e.preventDefault(),snapError("Invalid file format. The system can accept the following file formats: JPG, JPEG, PNG, GIF."),!1;var a=$(e.files).is(function(t){return e.files[t].size>l});return!a||(e.preventDefault(),snapError("Uploaded files must be less than 4MB."),!1)}function a(e,t,a,n,r,i,o){return{async:{autoUpload:t,saveUrl:e,withCredentials:!1},multiple:!1,localization:{select:t?"Upload image":"Select image",headerStatusUploading:"Saving...",headerStatusUploaded:"Profile image saved"},showFileList:!t&&!FileReader,template:'<span title="#=name#">#=name#</span>',select:a,upload:n,success:r,error:i,cancel:o}}function n(e,t){var a=f[e];if("undefined"==typeof a)throw"Incorrect uploader type '"+e+"'";return a+(t||"")}function r(e,t){if(FileReader&&t){var a=new FileReader;a.addEventListener("load",function(){t(this.result)},!1),a.readAsDataURL(e.files[0].rawFile)}}function i(e){var t=function(){if(1===e.readyState){var a=snap.userSession;e.setRequestHeader("Authorization","Bearer "+a.token),e.setRequestHeader("X-Api-Session-Id",a.apiSessionId),e.setRequestHeader("Accept","text/plain"),e.removeEventListener("readystatechange",t)}};e.addEventListener("readystatechange",t)}function o(e){e.closest(".k-upload-button").hide()}function s(e,t){var a=e.closest(".k-upload");a.find(".k-upload-files").remove(),t||a.find(".k-upload-status").remove(),a.addClass("k-upload-empty"),a.find(".k-upload-button").removeClass("k-state-focused").show()}var l=4194304,f={patient:snap.baseUrl+"/api/v2.1/patients/profile-images?patientId=",clinician:snap.baseUrl+"/api/v2.1/clinicians/profile-images?clinicianUserId=",provider:snap.baseUrl+"/api/v2.1/providers/profile-images?hospitalId=",image:snap.baseUrl+"/api/v2.1/images"};ImagesHelper.composeUploadUrl=function(e,t){var a=t||"";return f[e]+a},ImagesHelper.sendImageToServer=function(t,a){var n=e(t),r=new FormData;r.append("filename",n,"png");var i=snap.userSession,o={Authorization:"Bearer "+i.token,"X-Api-Session-Id":i.apiSessionId},s=jQuery.Deferred();return $.ajax({type:"POST",url:a,headers:o,data:r,cache:!1,contentType:!1,processData:!1}).done(function(e){s.resolve(e.data[0].uri)}).fail(function(e){s.reject(e);var t=snap.resolveObject("snap.SnapNotification");t&&t.error(e.responseText),console.error(e)}),s.promise()},ImagesHelper.isDataUri=function(e){return e.split(",")[0].indexOf("base64")>=0},ImagesHelper.openImageDialog=function(e,t,a){function n(){s.parentElement.removeChild(s)}function r(e){var t=snap.resolveObject("snap.SnapNotification");t.error(e)}function i(){"undefined"!=typeof a&&a(),this.contentDocument.resolve=e?e:function(){console.log("no callback function for change picture event")},this.contentDocument.reject=t?t:function(){console.log("no callback function for reject event")},this.contentDocument.closeIframe=n,this.contentDocument.showErrorMsg=r}var o="/content/shared/DialogboxProfilePicture.html",s=document.createElement("iframe"),l="profilePhotoUpload";return s.id=l,s.src=o,s.style.position="fixed",s.style.top="0",s.style.left="0",s.style.width="100%",s.style.height="100%",s.style.zIndex="100","undefined"!=typeof a&&a(),s.addEventListener?s.addEventListener("load",i,!1):s.attachEvent("onload",i),document.body.appendChild(s),s},ProfileImageUploader=function(e,l,f,u,p,d){function c(e){var a=t(e);a&&(f||r(e,p))}function m(e){var t=e.XMLHttpRequest;return t?(i(t),void o($(U))):(e.preventDefault(),void snapError("Upload failed. System error."))}function g(e){e.response&&e.response.data&&(D=e.response.data[0].uri,d&&d(D),s($(U),!0),I.__uploadDefer&&I.__uploadDefer.resolve(D))}function v(e){snapError(e.XMLHttpRequest.statusText||"Upload failed"),I.__uploadDefer&&I.__uploadDefer.fail(),s($(U),!1)}function h(e){e.preventDefault(),I.__uploadDefer&&I.__uploadDefer.fail(),s($(U),!1)}var D,I=this,U=e,y=n(l,u);$(U).kendoUpload(a(y,f,c,m,g,v,h)),I.updateSaveUrl=function(e){if(!e&&"image"!==l)throw"Profile ID must be set";$(U).data("kendoUpload").options.async.saveUrl=n(l,e)},I.uploadAsync=function(e){if(!e&&"image"!==l)throw"Profile ID must be set";$(U).data("kendoUpload").options.async.saveUrl=n(l,e),I.__uploadDefer=new $.Deferred;var t=$(".k-upload-selected");return t.length?t.click():I.__uploadDefer.resolve(D),I.__uploadDefer.promise()}}}();
var snap=snap||{};snap.getScript=snap.getScript||$.getScript,function(n){var e={edge:/(edge)[ \/]([\w.]+)/i};for(var t in e)if(e.hasOwnProperty(t)){var s=n.match(e[t]);if(s){var i={};i[t]=!0,i[s[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,i.version=parseInt(document.documentMode||s[2],10),kendo.support.browser=i}}}(navigator.userAgent),snap.createCache=snap.createCache||function(n){var e={};return function(t,s){return e[t]||(e[t]=$.Deferred(function(e){n(e,t)}).promise()),e[t].done(s)}},snap.cachedGetScript=snap.createCache(function(n,e){snap.getScript(e).then(n.resolve,n.reject)}),snap.cachedGetHtml=snap.cachedGetHtml||snap.createCache(function(n,e){e.indexOf("v=v2.16.1.0.35")<0&&(e+=e.indexOf("?")>=0?"&v=v2.16.1.0.35":"?v=v2.16.1.0.35"),$.get(e).then(n.resolve,n.reject)}),$.extend(snap,{isUnloading:!1,defaultHeight:"ft/in",defaultWeight:"lbs",noneReportedMessage:"None Reported",shortNoneReportedMessage:"N/R",getBaseUrl:function(){var n=location.protocol+"//"+location.hostname+(location.port&&":"+location.port)+"/";return n},getHubUrl:function(){return snap.baseUrl+"/api/signalr/hubs"},loadGlobule:function(){return isEmpty(snap.hospitalSession)||isEmpty(snap.hospitalSession.locale)?snap.cachedScript("/Scripts/localization/labels-en-US.js"):snap.cachedScript("/Scripts/localization/labels-"+snap.hospitalSession.locale+".js")},loadGlobulePromise:null,localize:function(){snap.loadGlobulePromise||(snap.loadGlobulePromise=snap.loadGlobule()),snap.loadGlobulePromise.done(function(){$(".local").each(function(){$(this).html(snap.labels[$(this).data("label")])})})},relocalize:function(){snap.loadGlobulePromise=null,snap.localize()},getUrlParam:function(n){var e=new RegExp("[?&]"+n+"=([^&#]*)").exec(window.location.href);return null==e?null:e[1]||0},clearUserTimeZone:function(){$.ajax({type:"DELETE",url:"/api/v2/caches?cacheType=userTimeZone",contentType:"application/json; charset=utf-8",dataType:"json"})},openHelp:function(n,e){var t="/api/v2/helpcenter/patient/url";"admin"==n?t="/api/v2/helpcenter/admin/url":"clinician"==n&&(t="/api/v2/helpcenter/provider/url"),$.ajax({type:"GET",url:t,contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){if(n.data&&n.data.length){var t=n.data[0];"undefined"!=typeof e&&null!==e&&(t=[t,"&return_to=",e].join(""));var s=window.open(t,"_blank");s?s.focus():snapInfo("Please allow popups for this site")}}})},htmlDecode:function(n){return null!=n?$("<div/>").html(n).text():n},patientLogin:function(){var n="/public/#/";return isEmpty(snap.hospitalSession)?n:isEmpty(snap.hospitalSession.snapLogin)&&snap.userSession&&snap.userSession.snapLogin?n:isEmpty(snap.hospitalSession.patientLogin)||"Mandatory"!==snap.hospitalSession.customerSSO?n:snap.hospitalSession.patientLogin},adminLogin:function(){var n="/public/#/admin";return isEmpty(snap.hospitalSession)?n:isEmpty(snap.hospitalSession.adminLogin)||"Mandatory"!==snap.hospitalSession.adminSSO?n:snap.hospitalSession.adminLogin},snapMDAdminLogin:function(){return"/public/#/SnapMDAdmin"},getPatientHome:function(){return"/patient/Main/#/home"},patientConsultEndUrl:function(){return isEmpty(snap.hospitalSession)?snap.getPatientHome():isEmpty(snap.hospitalSession.snapLogin)&&snap.userSession.snapLogin?snap.getPatientHome():isEmpty(snap.hospitalSession.patientConsultEndUrl)?snap.getPatientHome():snap.hospitalSession.patientConsultEndUrl},getClinicianHome:function(){return"/provider/Main/#/patientQueue"},getProviderOpenConsultation:function(n){return n?"/provider/Main#/openconsultation/"+n:"/provider/Main#/openconsultation"},clinicianLogin:function(){return isEmpty(snap.hospitalSession)?"/public/#/provider":isEmpty(snap.hospitalSession.snapLogin)&&snap.userSession&&snap.userSession.snapLogin?"/public/#/provider":isEmpty(snap.hospitalSession.clinicianLogin)||"Mandatory"!==snap.hospitalSession.clinicianSSO?"/public/#/provider":snap.hospitalSession.clinicianLogin},clinicianConsultEndUrl:function(){return isEmpty(snap.hospitalSession)?snap.getClinicianHome():isEmpty(snap.hospitalSession.snapLogin)&&snap.userSession.snapLogin?snap.getClinicianHome():isEmpty(snap.hospitalSession.clinicianConsultEndUrl)||"/provider/WaitingList"===snap.hospitalSession.clinicianConsultEndUrl?snap.getClinicianHome():snap.hospitalSession.clinicianConsultEndUrl},userAborted:function(n){return!n.getAllResponseHeaders()||401==n.status},applyFieldValidation:function(n,e){n&&e.addClass("required")},getGenderString:function(n){switch(n){case"F":return"Female";case"M":return"Male";default:return this.shortNoneReportedMessage}},getAgeString:function(n){if(null==n||""==n)return"";if("N/R"==n)return"N/R";if(": N/R"==n)return": N/R";var e=!1;"string"==typeof n&&0===n.indexOf(":")&&(e=!0,n=n.replace(":","").trim());var t,s,i="",o=new Date,a=o.getYear(),r=o.getMonth(),p=o.getDate(),l=new Date(n),c=l.getYear(),u=l.getMonth(),d=l.getDate(),f=a-c;return r>=u?s=r-u:(f--,s=12+r-u),p>=d?t=p-d:(s--,t=31+p-d,s<0&&(s=11,f--)),f>0?i=f+" "+(f>1?"Years":"Year"):s>6?i=s+" "+(s>1?"Months":"Month"):s>0?(i=s+" "+(s>1?"Months":"Month"),i+=" "+t+" "+(t>1?"Days":"Day")):i+=" 0 Month "+t+" "+(t>1?"Days":"Day"),e?": "+i:i},getAgeCount:function(n){if(null==n||""==n)return"";var e=new Date(Date.parse(n)),t=e.getFullYear(),s=e.getMonth(),i=e.getDate(),o=new Date;o.setHours(0,0,0,0);var a,r,p=o.getFullYear(),l=o.getMonth(),c=o.getDate(),u=p-t;return l>=s?r=l-s:(u--,r=12+l-s),c>=i?a=c-i:(r--,a=31+c-i,r<0&&(r=11,u--)),{year:u,month:r,day:a}},addVersion:"?v=v2.16.1.0.35",setHospitalSettings:function(){snap.getSnapUserSession(),isEmpty(snap.hospitalId)&&(snap.hospitalId=snap.hospitalSession.hospitalId);var n=$.Deferred(),e="/api/v2/Hospital/"+snap.hospitalId;return $.ajax({url:e,type:"GET",dataType:"json",async:!1,contentType:"application/json; charset==utf-8",success:function(e){if(e){var t=e.data[0].enabledModules,s={};s.eCommerce=t.indexOf("ECommerce")>-1,s.onDemand=t.indexOf("OnDemand")>-1,s.medicalCodes=t.indexOf("MedicalCodes")>-1,s.messaging=t.indexOf("Messaging")>-1,s.insuranceVerification=t.indexOf("InsuranceVerification")>-1,s.ePrescriptions=t.indexOf("EPrescriptions")>-1,s.ePrescriptions_EPSchedule=t.indexOf("EPrescriptions_EPSchedule")>-1,s.intakeForm=t.indexOf("IntakeForm")>-1,s.intakeForm_OnDemand=t.indexOf("IntakeForm_OnDemand")>-1,s.intakeForm_Scheduled=t.indexOf("IntakeForm_Scheduled")>-1,s.providerSearch=t.indexOf("ClinicianSearch")>-1,s.rxNTEHR=t.indexOf("RxNTEHR")>-1,s.rxNTPM=t.indexOf("RxNTPM")>-1,s.hidePaymentPageBeforeWaitingRoom=t.indexOf("HidePaymentPageBeforeWaitingRoom")>-1,s.fileSharing=t.indexOf("FileSharing")>-1,s.insuranceBeforeWaiting=s.insuranceVerification&&t.indexOf("InsuranceBeforeWaiting")>-1,s.ePerscriptions=t.indexOf("EPerscriptions")>-1,s.ePSchedule1=t.indexOf("EPSchedule1")>-1,s.iCD9Codes=t.indexOf("ICD9Codes")>-1,s.textMessaging=t.indexOf("TextMessaging")>-1,s.insVerificationDummy=s.insuranceVerification&&t.indexOf("InsVerificationDummy")>-1,s.videoBeta=t.indexOf("VideoBeta")>-1,s.hidePaymentBeforeWaiting=s.eCommerce&&t.indexOf("HidePaymentBeforeWaiting")>-1,s.showCTTOnScheduled=t.indexOf("ShowCTTOnScheduled")>-1,s.pPIsBloodTypeRequired=t.indexOf("PPIsBloodTypeRequired")>-1,s.pPIsHairColorRequired=t.indexOf("PPIsHairColorRequired")>-1,s.pPIsEthnicityRequired=t.indexOf("PPIsEthnicityRequired")>-1,s.pPIsEyeColorRequired=t.indexOf("PPIsEyeColorRequired")>-1,s.organizationLocation=t.indexOf("OrganizationLocation")>-1,s.AddressValidation=t.indexOf("AddressValidation")>-1,s.hideOpenConsultation=t.indexOf("HideOpenConsultation")>-1,s.hideDrToDrChat=t.indexOf("HideDrToDrChat")>-1,s.showAnnotation=t.indexOf("ShowAnnotation")>-1,s.showKubi=t.indexOf("ShowKubi")>-1,s.disablePhoneConsultation=t.indexOf("DisablePhoneConsultation")>-1,s.drToDrChatInAdmin=!1,s.adminMeetingReport=t.indexOf("AdminMeetingReport")>-1,e.data[0].settings&&$.extend(s,e.data[0].settings),snap.setSnapJsSession("snap_hospital_settings",s),snap.hospitalSettings=s,n.resolve()}},error:function(e){snap.util.logToConsole(e),n.reject("Failed to Load Client Profile"),snapError("Failed to Load Client Profile")}}),n.promise()},getSnapHospitalSession:function(){var n=sessionStorage.getItem("snap_hospital_session");n&&(snap.hospitalSession=JSON.parse(n))},getSnapHospitalSettings:function(){var n=sessionStorage.getItem("snap_hospital_settings");n&&(snap.hospitalSettings=JSON.parse(n))},updateSnapJsSession:function(n,e,t){var s=JSON.parse(sessionStorage.getItem(n));s[e]=t,sessionStorage.setItem(n,JSON.stringify(s))},setSnapJsSession:function(n,e){sessionStorage.setItem(n,JSON.stringify(e))},getSnapUserSession:function(){var n=sessionStorage.getItem("snap_user_session");n?snap.userSession=JSON.parse(n):snap.userSession={}},updateSnapUserSessionValue:function(n,e){snap.userSession||this.getSnapUserSession();var t=snap.userSession;t[n]=e,snap.userSession=t,snap.setSnapJsSession("snap_user_session",t),this.getSnapUserSession()},setSnapConsultationSession:function(n,e,t,s,i,o,a,r){if("object"==typeof arguments[0])snap.setSnapConsultationSessionData(arguments[0]);else{var p={};p.consultationId=n,p.isScheduled=e,p.currentStep=t,p.totalSteps=s,p.patientId=i,p.patientName=o,p.guardianName=a,p.patientDob=r,snap.setSnapConsultationSessionData(p)}},updateSnapConsultationSessionValue:function(n,e){snap.consultationSession||this.getSnapConsultationSession();var t=snap.consultationSession;t[n]=e,snap.consultationSession=t,snap.setSnapJsSession("snap_consultation_session",t),this.getSnapConsultationSession()},updateSnapConsultationSessionMultipleValues:function(n){snap.consultationSession||this.getSnapConsultationSession();var e=snap.consultationSession;for(var t in n)e[t]=n[t];snap.consultationSession=e,snap.setSnapJsSession("snap_consultation_session",e),this.getSnapConsultationSession()},setSnapConsultationSessionData:function(n){snap.setSnapJsSession("snap_consultation_session",n),snap.consultationSession=n},getSnapConsultationSession:function(){var n=sessionStorage.getItem("snap_consultation_session");n?snap.consultationSession=JSON.parse(n):snap.setSnapConsultationSessionData({consultationId:0,isScheduled:!1,patientId:0,currentStep:0,totalSteps:0})},sessionStorageExists:function(n){return null!=sessionStorage.getItem(n)},clearSnapConsultationSession:function(){snap.consultationSession=null,sessionStorage.removeItem("snap_consultation_session")},getSnapChatRecentSession:function(){var n=sessionStorage.getItem("snap_chatrecent_session");n?snap.chatRecentSession=JSON.parse(n):snap.chatRecentSession=[]},setSnapChatRecentSession:function(n){n=n||[],snap.setSnapJsSession("snap_chatrecent_session",n),snap.chatRecentSession=n},getSnapChatUnreadCounterSession:function(){var n=sessionStorage.getItem("snap_chatunreadcounter_session");n?snap.chatUnreadCounterSession=JSON.parse(n):snap.chatUnreadCounterSession=""},setSnapChatUnreadCounterSession:function(n){n=n||"",snap.setSnapJsSession("snap_chatunreadcounter_session",n),snap.chatUnreadCountertSession=n},addToSnapChatRecentSession:function(n){snap.chatRecentSession=snap.chatRecentSession||[];var e=snap.chatRecentSession.indexOf(n);e>=0&&snap.chatRecentSession.splice(e,1),snap.chatRecentSession.push(n),snap.setSnapJsSession("snap_chatrecent_session",snap.chatRecentSession)},clearAllSnapSessions:function(){for(var n=sessionStorage.length;n--;){var e=sessionStorage.key(n);/snap/.test(e)&&sessionStorage.removeItem(e)}},getStaffProfileSession:function(){var n=sessionStorage.getItem("snap_staffprofile_session");n&&(snap.profileSession=JSON.parse(n),snap.profileSession.isStaffProfile=!0)},getPatientProfileSession:function(){var n=sessionStorage.getItem("snap_patientprofile_session");n&&(snap.profileSession=JSON.parse(n),snap.profileSession.isPatientProfile=!0)},setNumericText:function(n,e,t,s){n.data("kendoNumericTextBox").max(s),n.data("kendoNumericTextBox").value()>s?n.data("kendoNumericTextBox").value(s):n.data("kendoNumericTextBox").value(n.data("kendoNumericTextBox").value())},cachedScript:function(n){return $.ajax({dataType:"script",cache:!0,url:n})},setPageTitle:function(){var n=window.location.href.split("/");console.info("pageName[pageName.length - 1]: "+n[n.length-1]+'  --  $.trim($(document).attr("title")).length: '+$.trim($(this).attr("title")).length),0==$.trim($(document).attr("title")).length&&$(document).attr("title",n[n.length-1])},setSecruityValues:function(){var n={};n.e_prescription_creation=1,n.e_prescription_authorization=2,n.e_prescription_submission=3,n.conduct_virtual_consultations=4,n.view_patient_demographics=5,n.view_patient_personal_health_information=6,n.manage_personal_schedule=7,n.view_past_consultations=8,n.edit_past_consultations=9,n.provider_chat=10,n.view_staff_accounts=11,n.edit_staff_accounts=12,n.edit_public_facing_profile_details_self=13,n.edit_public_facing_profile_details_others=14,n.create_staff_accounts=15,n.create_new_admin_user=16,n.create_reports=17,n.view_reports=18,n.assign_roles=19,n.create_roles=20,n.delete_roles=21,n.disable_roles=22,n.edit_roles=51,n.view_edit_admin_preferences=23,n.can_access_my_files=28,n.can_view_patient_files=29,n.can_copy_upload_to_patient_files=30,n.can_manage_hospital_files=31,n.view_tags=32,n.create_tags=33,n.delete_tags=34,n.assign_tags=35,n.view_roles=36,n.view_patients_accounts=37,n.edit_patients_accounts=38,n.view_admin_dashboard=39,n.can_manage_staff_files=40,n.create_groups=41,n.remove_groups=42,n.modify_groups=43,n.manage_staff_schedule=44,n.view_workflows=45,n.edit_workflows=46,n.open_consultation=48,n.view_admin_patient_queue=49,snap.security=n},hasAllPermission:function(){var n=arguments[0];Array.isArray(n)||(n=arguments);for(var e=0;e<n.length;e++){var t=n[e];if(t<32){if(0===(this.userSession.security1to31&1<<t-1))return!1}else if(0===(this.userSession.security32to63&1<<t-32))return!1}return!0},hasAnyPermission:function(){var n=arguments[0];Array.isArray(n)||(n=arguments);for(var e=0;e<n.length;e++){var t=n[e];if(t<32){if((this.userSession.security1to31&1<<t-1)>0)return!0}else if((this.userSession.security32to63&1<<t-32)>0)return!0}return!1},openMobileApp:function(n,e,t){return e=e||function(){},kendo.support.mobileOS.ios||t?void setTimeout(function(){snap.openMobileAppInternal(n)},200):void(kendo.support.mobileOS.android&&(snapConfirm("Use the VirtualCare App for the best consultation experience."),$("#btnConfirmYes").html("Go"),$("#btnConfirmNo").html("Not Now"),$("#btnConfirmYes").click(function(){$(".k-notification-confirmation").parent().remove(),setTimeout(function(){snap.openMobileAppInternal(n)},200)}),$("#btnConfirmNo").click(function(){$(".k-notification-confirmation").parent().remove(),e()})))},getMobileAppSchema:function(){snap.hospitalSettings||snap.getSnapHospitalSettings();var n;n=kendo.support.mobileOS.android?"androidSchemaUrl":"iOSSchemaUrl";var e=snap.hospitalSettings[n];return e?e:"snapmdconnectedcare"},getMobileAppStoreUrl:function(){snap.hospitalSettings||snap.getSnapHospitalSettings();var n;n=kendo.support.mobileOS.android?"androidPlayStoreUrl":"iOSAppStoreUrl";var e=snap.hospitalSettings[n];return e?e:"iOSAppStoreUrl"==n?snap.iosAppLink:snap.andriodAppLink},formatPhoneNumber:function(n,e){n=$.trim(n);var t,s,i,o=!1;return 0===n.indexOf("+")&&(o=!0),s=o?n.substring(1):n,e&&e.length?(t=/\(?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})/g,i="($1) $2-$3",s=s.replace(t,i),s=e+" "+s):s.length>9?(10===s.length?(t=/\(?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})/g,i="($1) $2-$3"):11===s.length?(t=/\(?(\d{1})\)?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})/g,i="$1 ($2) $3-$4"):(t=/\(?(\d{2})\)?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})/g,i="$1 ($2) $3-$4"),s=s.replace(t,i),o&&(s="+"+s),s):n},openMobileAppInternal:function(n){n=n||"";var e="production",t=location.host;t.indexOf("-qa.com")>=0?e="qa":t.indexOf("-stage.com")>=0?e="stage":t.indexOf("sandbox")>=0&&(e="sandbox"),snap.getSnapUserSession(),snap.getSnapHospitalSession();var s,i="";snap.userSession&&(i=snap.userSession.token),s=snap.hospitalSession?snap.hospitalSession.hospitalId:snap.hospitalId;var o=snap.getMobileAppSchema(),a=o+"://?token="+i+"&hospitalId="+s+"&env="+e+"&consultationId="+n;kendo.support.mobileOS.ios?kendo.support.mobileOS.majorVersion>=9?window.location=a:($("<iframe />").attr("id","hiddenIFrame").attr("href",a).attr("style","display:none;").appendTo("body"),setTimeout(function(){setTimeout(function(){$("#hiddenIFrame").remove()},100)},200)):window.location=a;setTimeout(function(){var n=function(){snapConfirm("You will need our mobile app to conduct a consultation on the platform."),$("#btnConfirmYes").html("Get the app"),$("#btnConfirmNo").html("Ignore"),$("#btnConfirmYes").click(function(){$(".k-notification-confirmation").parent().remove(),kendo.support.mobileOS.android||kendo.support.mobileOS.ios?window.location.href=snap.getMobileAppStoreUrl():snapInfo("Comming Soon.")}),$("#btnConfirmNo").click(function(){$(".k-notification-confirmation").parent().remove(),snapConfirm("This action will cancel your consultation request. Are you sure you want to cancel?"),$("#btnConfirmYes").click(function(){$(".k-notification-confirmation").parent().remove()}),$("#btnConfirmNo").click(function(){$(".k-notification-confirmation").parent().remove(),n()})})};n()},7e3)},redirectToMobileApp:!1,iosAppLink:"https://itunes.apple.com/us/app/virtual-care/id1035220141?ls=1&mt=8",andriodAppLink:"https://play.google.com/store/apps/details?id=com.snap.connectedcare.production",consultationStatus:{unknown:0,paymentDone:68,doctorAssigned:69,doctorInitiatedConsultation:70,startedConsultation:71,endedConsultation:72,cancelConsultaion:79,inProgress:80,droppedConsultation:81,customerInWaiting:82,doctorReviewConsultation:154,dismissed:163,patientEndConsultation:73,disconnectedConsultation:83},isUserLoggedIn:function(){return!!sessionStorage.getItem("snap_user_session")},clearUnLoadEvent:function(){window.onbeforeunload=function(){}}}),snap.setSecruityValues(),$(function(){snap.setPageTitle()});
var snap=snap||{};kendo.data.binders.onEnterKey=kendo.data.Binder.extend({init:function(e,n,t){kendo.data.Binder.fn.init.call(this,e,n,t);var i=this;$(i.element).on("keypress",function(e){var n=e.keyCode?e.keyCode:e.which;"13"==n&&(i.bindings.onEnterKey.get(),e.preventDefault())})},refresh:function(){}}),kendo.data.binders.onEnterNewLine=kendo.data.Binder.extend({init:function(e,n,t){kendo.data.Binder.fn.init.call(this,e,n,t);var i=this;$(i.element).on("keypress",function(e){var n=e.keyCode?e.keyCode:e.which;"13"==n&&($(this).val($(this).val()+"\n"),e.preventDefault())})},refresh:function(){}}),kendo.data.binders.onEnterKeyMultiline=kendo.data.Binder.extend({init:function(e,n,t){kendo.data.Binder.fn.init.call(this,e,n,t);var i=this;$(i.element).on("keypress",function(e){var n=e.keyCode?e.keyCode:e.which;13!=n&&10!=n||(e.shiftKey||e.ctrlKey?$(this).val($(this).val()+"\n"):i.bindings.onEnterKeyMultiline.get(),e.preventDefault())})},refresh:function(){}}),kendo.data.binders.geoAddressInput=kendo.data.Binder.extend({init:function(e,n,t){var i=this;kendo.data.Binder.fn.init.call(this,e,n,t);try{var a=new google.maps.places.Autocomplete(e);a.addListener("place_changed",function(){var n=a.getPlace().formatted_address;if(n){var t=n.indexOf(","),d=n.substring(0,t+1)+"\n"+n.substring(t+1,n.length+1);e.value=d,i.change(d)}})}catch(d){console&&console.log(d)}},change:function(e){this.bindings.value.set(e)},refresh:function(){}}),kendo.data.binders["class"]=kendo.data.Binder.extend({init:function(e,n,t){kendo.data.Binder.fn.init.call(this,e,n,t),this._lookups=[];for(var i in this.bindings["class"].path)this.bindings["class"].path.hasOwnProperty(i)&&this._lookups.push({key:i,path:this.bindings["class"].path[i]})},refresh:function(){for(var e,n,t=0;t<this._lookups.length;t++)e=this._lookups[t],this.bindings["class"].path=e.path,n=this.bindings["class"].get(),n?$(this.element).addClass(e.key):$(this.element).removeClass(e.key)}}),kendo.data.binders.rmclass=kendo.data.Binder.extend({init:function(e,n,t){kendo.data.Binder.fn.init.call(this,e,n,t),this._lookups=[];for(var i in this.bindings.rmclass.path)this.bindings.rmclass.path.hasOwnProperty(i)&&this._lookups.push({key:i,path:this.bindings.rmclass.path[i]})},refresh:function(){for(var e,n,t=0;t<this._lookups.length;t++)e=this._lookups[t],this.bindings.rmclass.path=e.path,n=this.bindings.rmclass.get(),n?$(this.element).removeClass(e.key):$(this.element).addClass(e.key)}}),kendo.data.binders.snapDateTime=kendo.data.Binder.extend({init:function(e,n,t){kendo.data.Binder.fn.init.call(this,e,n,t)},refresh:function(){var e=this.bindings.snapDateTime.get();if(e){var n=new Date(e);$(this.element).text(SnapDateTime1(n))}}}),kendo.data.binders.snapDateTimeShort=kendo.data.Binder.extend({init:function(e,n,t){kendo.data.Binder.fn.init.call(this,e,n,t)},refresh:function(){var e=this.bindings.snapDateTimeShort.get();if(e){var n=new Date(e);$(this.element).text(SnapDateTimeShort(n))}}}),kendo.data.binders.snapDate1=kendo.data.Binder.extend({init:function(e,n,t){kendo.data.Binder.fn.init.call(this,e,n,t)},refresh:function(){var e=this.bindings.snapDate1.get();if(e){var n=new Date(e);$(this.element).text(formatJSONDate1(n))}}}),kendo.data.binders.snapDateShort=kendo.data.Binder.extend({init:function(e,n,t){kendo.data.Binder.fn.init.call(this,e,n,t)},refresh:function(){var e=this.bindings.snapDateShort.get();if(e){var n=new Date(e);$(this.element).text(formatJSONDateShort(n))}}}),kendo.data.binders.widget.max=kendo.data.Binder.extend({init:function(e,n,t){kendo.data.Binder.fn.init.call(this,e.element[0],n,t)},refresh:function(){var e=this,n=e.bindings.max.get();$(e.element).data("kendoDatePicker").max(n)}}),kendo.data.binders.widget.min=kendo.data.Binder.extend({init:function(e,n,t){kendo.data.Binder.fn.init.call(this,e.element[0],n,t)},refresh:function(){var e=this,n=e.bindings.min.get();$(e.element).data("kendoDatePicker").min(n)}}),kendo.data.binders.ageString=kendo.data.Binder.extend({init:function(e,n,t){kendo.data.Binder.fn.init.call(this,e,n,t)},refresh:function(){var e=this.bindings.ageString.get();e&&$(this.element).text(snap.getAgeString(e))}}),kendo.data.binders.slide=kendo.data.Binder.extend({refresh:function(){var e=this.bindings.slide.get(),n=$(this.element).data("slide-speed")||400;e?$(this.element).slideDown(n):$(this.element).slideUp(n)}}),kendo.data.binders.fade=kendo.data.Binder.extend({refresh:function(){var e=this.bindings.fade.get(),n=$(this.element).data("fade-speed")||400;e?$(this.element).fadeIn(n):$(this.element).fadeOut(n)}}),kendo.data.binders.snapPhoneNumber=kendo.data.Binder.extend({init:function(e,n,t){kendo.data.Binder.fn.init.call(this,e,n,t)},refresh:function(){var e=this.bindings.snapPhoneNumber.get();e&&("input"==this.element.tagName.toLowerCase()?this.element.value=snap.formatPhoneNumber(e):$(this.element).text(snap.formatPhoneNumber(e)))}});
function validateEmail(e){return _testInput(e,snap.regExMail)}function validatePassword(e){return _testInput(e,/^((?=.*\d)(?=.*[a-z])(?=.*[A-Z])[^\s\n\r]{8,20})$/)}function _testInput(e,t){try{return t.test(e)}catch(a){snap.util.logToConsole(a)}return!1}function snapValidateHealthPlanDOBByDate(e){var t=snap.dateValidation.validateDOB(e),a=new Date(e);return""==t&&a>snap.dateLimits.getHealthPlanMaxDate()&&(t="Subscriber should be at least 13 years old"),t}function PreventIvalidSymbolsInPasswordOrEmail(e){e.on({keydown:function(e){return 32!==e.which},change:function(){this.value=this.value.replace(/\s/g,"")}})}function isValidName(e){return null!=e&&e.length>0&&e.length<50}function IsContactNumberValid(){var e=$.trim($("#phone-field").val());return!(e.length<5||e.length>20)||(snapError("Contact Number must be minimum 5 & maximum 20 digits."),!1)}function ValidatePhone(e,t,a){try{if(""!=$.trim(e)){var n=""+e;if(n.length<5)return t+" length must be greater than 4";if(n.length>15)return t+" length must not be greater than 15"}else if(a)return"Please enter a "+t;return""}catch(r){logError("ValidatePhone()","Error",r,"While validating the phone format this error may occured.")}}var validationMessages={passwordInvaild:"Your Password must be between 8 and 20 characters,<br >contain at least one upper and lower case letter and at least one number,<br>and must not contain any spaces.<br/>",emailInvalid:"Please enter a valid email address <br/>",zipInvalid:"Zip/Postal Code must be between 3 and 10 characters"},isValidFolderName=function(e){var t=/^[^\\/?%*:|"<>]+$/;return t.test(e)};
var snap=snap||{};snap.enums=snap.enums||{},snap.enums.addressInputs={"default":0,addressHintText:1,addressPlaceholder:2},function(n,e){e.namespace("snap.enums").define("ErrorTypeEnum",function(){this.Default=0,this.TokenExpired_Admin=1,this.EmailAlreadyInUse_Admin=2,this.TokenExpired_Customer=3,this.EmailAlreadyInUse_Customer=4,this.TokenInvalid_Invitation=5,this.EPrescriptionError=6,this.Empty_Hospital=7}).singleton(),e.namespace("snap.enums").define("SnapEvents",function(){this.GetClientInfo="GetClientInfo"}).singleton(),e.namespace("snap.enums").define("PhoneTypes",function(){this.home=0,this.mobile=1,this.other=3}).singleton(),e.namespace("snap.enums").define("consultationStatus",function(){this.unknown=0,this.paymentDone=68,this.doctorAssigned=69,this.doctorInitiatedConsultation=70,this.startedConsultation=71,this.endedConsultation=72,this.cancelConsultaion=79,this.inProgress=80,this.droppedConsultation=81,this.customerInWaiting=82,this.doctorReviewConsultation=154,this.dismissed=163,this.patientEndConsultation=73,this.disconnectedConsultation=83}).singleton(),e.namespace("snap.enums").define("consultationCollectionStatuses",function(){this.scheduled="Scheduled",this.past="Past",this.dropped="Dropped",this.dna="DNA",this.active="Active"}).singleton(),e.namespace("snap.enums").define("userTypes",function(){this.admin=0,this.clinician=1,this.patient=2}).singleton(),e.namespace("snap.enums").define("GlobalStatusCodes",function(){this.none=0,this.active=1,this.deleted=2,this.suspended=3,this.inactive=4}).singleton(),e.namespace("snap.enums").define("PatientConnectionStatusCodes",function(){this.patientInactive=0,this.patientInWaitingRoom=1,this.patientInConsultationRoom=2,this.patientDisconnected=3,this.patientEndedConsultation=4,this.patientMarkConsultationAsFullfill=5,this.patientRemovedByProvider=6,this.patientDroppedByProvider=7}).singleton(),e.namespace("snap.enums").define("ParticipantStatusCodes",function(){this.none=0,this.active=1,this.dismissed=2,this.disconnected=3,this.inactive=4,this.declined=5,this.left=6,this.pending=7,this.isJoining=8,this.dropped=9,this.ended=10}).singleton(),e.namespace("snap.enums").define("ParticipantTypeCodes",function(){this.none=0,this.patient=1,this.provider=2,this.guest=3}).singleton(),e.namespace("snap.enums").define("screenTypes",function(){this.provider=1,this.patient=2,this.guest=3}).singleton(),e.namespace("snap.enums").define("profileFilter",function(){this.patient=1,this.provider=2,this.admin=4}).singleton(),e.namespace("snap.enums").define("appointmentTypeCode",function(){this.none=0,this.clinicianScheduled=1,this.onDemand=2,this.patientScheduled=3}).singleton(),e.namespace("snap.enums").define("codingSystems",function(){this.icd10="ICD-10-DX",this.icd9="ICD-9-DX",this.snomed="SNOMED-CT"}).singleton(),e.namespace("snap.enums").define("meetingTypeCodes",function(){this.none=0,this.doctorToPatientPreConsultation=1,this.doctorToPatientConsultation=2,this.doctorToDoctor=3,this.openConsultation=4}).singleton(),e.namespace("snap.enums").define("codingSystems",function(){this.icd10="ICD-10-DX",this.icd9="ICD-9-DX",this.snomed="SNOMED-CT"}).singleton(),e.enums.EncounterTypeCode=e.enums.EncounterTypeCode||{None:0,Text:1,Phone:2,Video:3,InPerson:4}}(jQuery,snap);
!function(e,s){"use strict";s.namespace("snap").use("SnapNotification").define("errorHandler",function(e){var r=function(e){var r=e.xhr,t=e.action,o=e.roleFunction,a=e.defaultMessage,n=e.concatMessage,i="",f="",u=!0;if(r){if(401===r.status){var c=o?o.toLowerCase():t?t.toLowerCase():"perform this action";i="You do not have sufficient permissions to "+c+". Please contact your system administrator for assistance",u=!1}else if(404===r.status)i="Resource not found";else if(500===r.status)i="Internal Server error";else if(0===r.status&&0===r.readyState)return f=s.userAborted(r)?"Request is aborted":"Internet connection is lost.",{infoMessage:f};if(!i)if("object"==typeof r.responseJSON&&r.responseJSON.message)i=r.responseJSON.message;else if(r.responseText){var l;try{l=JSON.parse(r.responseText)}catch(p){l={}}i=l.message||r.responseText}else r.statusText&&(i=r.statusText)}return!n&&t&&u&&(n="Failed to "+t+"."),i=i?n?n+"\n"+i:i:i||a||n||"An error occured",{errorMessage:i}};this.getErrorMessage=function(e){var s=r(e);return s.errorMessage||s.infoMessage},this.processError=function(s){var t=r(s);if(t.errorMessage){var o=t.errorMessage.split("\n");e.error(o.join("<br>"))}else t.infoMessage&&e.info(t.infoMessage)},this.getProfileDisabledReason=function(e){var s="Profile was not found";if(e)if(e.responseText)try{var r=JSON.parse(e.responseText);s=r.message}catch(t){s=e.responseText}else s=404===e.status?"Profile was not found":401===e.status?"You are not authorized to manage requested profile":"Failed to load profile details";return s}}).singleton()}(jQuery,window.snap=window.snap||{});
var snap=snap||{};!function(e,r){var n={utilities:{browsers:{chrome:"56",firefox:"51"}}};e.extend(r,n)}(jQuery,snap);
!function(e,t){"use strict";t.namespace("snap").define("userIq",function(){var e=this;e.configure=function(e,t,s){window._uiq=window._uiq||[];var i=window._uiq;i.push(["setCustomVariable","1","user_id",e,"visit"]),i.push(["setCustomVariable","2","account_id",t,"visit"]),i.push(["setCustomVariable","3","user_type",s,"visit"]),i.push(["enableLinkTracking"]),i.push(["trackPageView"]),function(){var e=("https:"==document.location.protocol?"https":"http")+"://feed.useriq.com/",t=("https:"==document.location.protocol?"https":"http")+"://secure.useriq.com/";i.push(["setTrackerUrl",t+"visits/push"]),i.push(["setSiteId","406028401"]);var s=document,n=s.createElement("script"),r=s.getElementsByTagName("script")[0];n.type="text/javascript",n.defer=!0,n.async=!0,n.src=e+"useriq.js",r.parentNode.insertBefore(n,r)}()}}).singleton(),t.namespace("snap.utilities").use(["snap.events","snap.enums.SnapEvents","snap.userIq"]).define("userIqConfigurator",function(e,s,i){var n=this;this.userType={patient:1,provider:2,admin:3,participant:4},this.run=function(i){if(t.config.useUserIQ)try{t.hospitalSession.hospitalId?r(i):e.setCallback(s.GetClientInfo,function(){r(i)})}catch(n){window.console.error(n)}};var r=function(e){var s=e===n.userType.participant?0:t.profileSession.userId;i.configure(s,t.hospitalSession.hospitalId,e)}}).singleton()}(jQuery,snap);
!function(e){snap.namespace("snap.utility").define("PageStyle",function(){this.applyStyle=function(){var n=e.Deferred(),a=snap.string.formatURIComponents("/less/styles.less.dynamic?brandColor={0}&brandTextColor={1}&brandBackgroundImage={2}&brandBackgroundLoginImage={3}&brandBackgroundColor={4}&v=v2.16.1.0.35",snap.hospitalSession.brandColor,snap.hospitalSession.brandTextColor,snap.hospitalSession.brandBackgroundImage,snap.hospitalSession.brandBackgroundLoginImage,snap.hospitalSession.brandBackgroundColor);try{var s=jQuery("<link>").prop({type:"text/css",rel:"stylesheet",href:a,media:"screen",title:"dynamicLoadedSheet"}).on("load",function(){n.resolve(!0)});document.head.appendChild(s[0])}catch(o){e("head").append(e("<link rel='stylesheet' href='"+a+"' type='text/css' media='screen' />")),n.resolve(!0)}return n.promise()},this.applyAdminStyle=function(){var n=snap.string.formatURIComponents("/less/admin.less.dynamic?brandColor={0}&brandTextColor={1}&brandBackgroundImage={2}&brandBackgroundLoginImage={3}&brandBackgroundColor={4}&v=v2.16.1.0.35",snap.hospitalSession.brandColor,snap.hospitalSession.brandTextColor,snap.hospitalSession.brandBackgroundImage,snap.hospitalSession.brandBackgroundLoginImage,snap.hospitalSession.brandBackgroundColor);try{var a=jQuery("<link>").prop({type:"text/css",rel:"stylesheet",href:n,media:"screen",title:"dynamicLoadedSheet"}).on("load",function(){});document.head.appendChild(a[0])}catch(s){e("head").append(e("<link rel='stylesheet' href='"+n+"' type='text/css' media='screen' />"))}},this.applyStyleV3=function(){isEmpty(snap.hospitalSession)&&snap.getSnapHospitalSession();var n=e.Deferred(),a=snap.string.formatURIComponents("/less/v3/styles.v3.less.dynamic?brandColor={0}&brandTextColor={1}&brandBackgroundImage={2}&brandBackgroundLoginImage={3}&brandBackgroundColor={4}&v=v2.16.1.0.35",snap.hospitalSession.brandColor,snap.hospitalSession.brandTextColor,snap.hospitalSession.brandBackgroundImage,snap.hospitalSession.brandBackgroundLoginImage,snap.hospitalSession.brandBackgroundColor);try{var s=jQuery("<link>").prop({type:"text/css",rel:"stylesheet",async:!1,href:a,media:"screen",title:"dynamicLoadedSheet"}).on("load",function(){n.resolve(!0)});document.head.appendChild(s[0])}catch(o){e("head").append(e("<link rel='stylesheet' href='"+a+"' type='text/css' media='screen' />")),n.resolve(!0)}return n.promise()}}).singleton()}(jQuery);
"use strict";!function(e,n,o){n.namespace("snap.common").use(["snap.common.contentLoader"]).define("dialogWindow",function(n){function i(i){function t(t){function a(n,o){n.center(),n.open(),"function"==typeof c.setOptions&&c.setOptions({dialog:l,opt:t}),window.addEventListener("resize",s),i.required&&e(".k-overlay").css("opacity","0.85"),setTimeout(function(){e(".dialogbox-master").addClass("is-visible")},500),f.resolve()}r();var f=e.Deferred();if(null===d){if(u)return;u=!0,n.bindViewModel(o.observable(i.vm),i.container,i.contentPath,i.required).done(function(n){c=n,"function"==typeof c.loadNonMVVM&&c.loadNonMVVM(i.container);var o=e(i.container);o.kendoWindow({actions:[],modal:!0,resizable:!1}),e("body").addClass("is-viewport-frozen"),o.parent().addClass("dialogbox-modal"),d=o.data("kendoWindow"),u=!1,e(".dialogbox-modal").click(function(e){var n=i.container;i.required||("#"+e.target.id==n&&r(),e.target===this&&r())}),a(d,i.required)})}else a(d);return f}function r(){d&&(e("body").removeClass("is-viewport-frozen"),d.close(),window.removeEventListener("resize",s),e(".dialogbox-master").removeClass("is-visible"))}function s(){window.console.log("resizeEventListener"),a(150,3)}function a(e,n){function o(i){i>n||(d&&(d.refresh(),d.center()),setTimeout(function(){o(i+1)},e))}o(1)}var d=null,c=null,l=this,u=!1;this.open=function(e){return t(e)},this.close=function(){r()},this.rCenter=function(){a(500,20)}}this.createNewDialog=function(e){return new i(e)}}).singleton()}(jQuery,snap,kendo);
"use strict";!function(n,e,t){e.namespace("snap.common").use([]).define("contentLoader",function(){this.bindViewModel=function(i,o,c){return e.cachedGetHtml(c).then(function(e){var c=n(o);return c.html(e),t.bind(c,i),i})},this.loadModule=function(n,t){var i=this;return e.getCachedScript(n.vmPath).then(function(){var o=e.resolveObject(n.vmName);return i.bindViewModel(o,t,n.contentPath)})}}).singleton()}(jQuery,snap,kendo);
!function(e,a){"use strict";snap.namespace("snap.shared").use(["snapNotification","snap.common.dialogWindow"]).define("webcamImageUploader",function(a,t){var o=this,n=null,s=null,r=null,c="";o.loadNonMVVM=function(){Webcam.set({width:200,height:200,dest_width:200,dest_height:200,image_format:"jpeg",jpeg_quality:90,force_flash:!1,flip_horiz:!0,fps:45,enable_flash:!0}),Webcam.on("error",function(e){console.error(e),a.error("Webcam access error! Try to use https:// protocol. "+e.message)}),Webcam.attach("#webcamVideo")},o.init=function(e){s=e.callback,c=e.uploadUrl},o.showSlapsh=function(a){a?e("#dialogSplashScreen").show():e("#dialogSplashScreen").hide()},o.open=function(e){s=e.callback,r=e.userId,c=e.uploadUrl,o.showSlapsh(!1);var a=!n;n=n||t.createNewDialog({container:"#popUpContainer",contentPath:"/content/shared/webcamImageUploader.html",vm:o}),n.open(),a||Webcam.attach("#webcamVideo")},o.close=function(){try{Webcam.reset()}finally{n.close()}},o.reset=function(){Webcam.reset()},o.b64ToUint6=function(e){return e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:43===e?62:47===e?63:0},o.base64DecToArr=function(e,a){for(var t,n,s=e.replace(/[^A-Za-z0-9\+\/]/g,""),r=s.length,c=a?Math.ceil((3*r+1>>2)/a)*a:3*r+1>>2,i=new Uint8Array(c),l=0,p=0,u=0;u<r;u++)if(n=3&u,l|=o.b64ToUint6(s.charCodeAt(u))<<18-6*n,3===n||r-u===1){for(t=0;t<3&&p<c;t++,p++)i[p]=l>>>(16>>>t&24)&255;l=0}return i},o.upload=function(e,a,t){var n="webcam",s="";if(!e.match(/^data\:image\/(\w+)/))throw"Cannot locate image format in Data URI";s=RegExp.$1;var r=e.replace(/^data\:image\/\w+\;base64\,/,""),c=new XMLHttpRequest;c.open("POST",a,!0),c.setRequestHeader("Authorization","Bearer "+snap.userSession.token),c.setRequestHeader("X-Api-Session-Id",snap.userSession.apiSessionId),c.setRequestHeader("Accept","text/plain"),c.upload&&c.upload.addEventListener&&c.upload.addEventListener("progress",function(e){if(e.lengthComputable){var a=e.loaded/e.total;Webcam.dispatch("uploadProgress",a,e)}},!1);var i=this;c.onload=function(){o.showSlapsh(!1),t&&t.apply(i,[c,c.status,c.responseText,c.statusText]),Webcam.dispatch("uploadComplete",c.status,c.responseText,c.statusText)};var l=new Blob([o.base64DecToArr(r)],{type:"image/"+s}),p=new FormData;p.append(n,l,n+"."+s.replace(/e/,"")),c.send(p)},o.takeSnapshoot=function(e){try{o.showSlapsh(!0),Webcam.snap(function(e){o.upload(e,c,s)})}catch(t){a.error("Error occured while trying take webcamera snapshhot. "+t.message)}}})}(jQuery,snap);