<style>
.has-footer{
  bottom: 0px!important;
}
</style>
<div id="Error_Message" class="ErrorMessageDiv" ></div>
<div class="Error_Message ErrorMessageDiv" ></div>
<div class="Server_Error ErrorMessageDiv" ></div>
<ion-view title="Submit Payment">
   <ion-side-menus>
   <ion-side-menu-content>
      <ion-header-bar align-title="left" class="bar-positiveHomeUser" style="background-color:{{brandColor}};border-color:{{brandColor}};{{backgroundimage}};">
         <div class="buttons" >
            <span class="button icon button-clear {{menuiconIOS}}" id="BackButtonIcon" style="{{MenuInnerStyle}} {{MenuIconBottom}}" ng-click="toggleLeft()"><i ng-bind-html="drawSVGCIcon('menu')"></i></span>
         </div>
         <h1 class="{{title_patient}} {{HeaderList}} {{intakeTittle}} localizejs"  style="{{PatientTitle}}" >Patient</h1>
         <div class="bar bar-subheaderHomeUser patient_subHeader calendar_subHeader_height" style="{{patient_subHeaderTopMove}}" >
            <div class="calendar_subHeader paymentSubHeader" >
               <div class="subHeader_image" ng-bind-html="drawImage(PatientImageSelectUser,PatientFirstName,PatientLastName)"></div>
               <div class="subHeader_content-{{deviceName}} ellipsis" >
                  <div class="ellipsis subHeader_content_name" >
                     <span class="PatintHeaderFontStyle patientName ellipsis">{{PatientFirstName}}</span>
                     <span class="PatintHeaderFontStyleInner patientLastName ellipsis">{{PatientLastName}}</span>
                  </div>
                  <div class="subHeader_content_age PatintHeaderFontStyleSub ellipsis"><span class="localizejs" ng-if="userGender != ''">{{userGender}}</span> . <span>{{userDOB| ageFilter}}</span><span class="localizejs">{{userDOB | ageYearsStringFilter}}</span><span>{{userDOB | ageMonthFilter}}</span> <span>{{userDOB | ageDayFilter}}</span> <span ng-if="primaryPatientId != patientId"><span class="localizejs"> . {{patRelationShip}}</span></span></div>
               </div>
            </div>
         </div>
         <div class="bar consultCharge_subHeader PatintHeaderFontStyle" style="padding: 0px; margin-top: 133px;	background-color: #fff;">
            <span class="localizejs">Payment</span>
         </div>
      </ion-header-bar>
      <ion-content class="consultCharge_contentPayment consultConPaymentMargin paymentConSecton" _style="{{ContentConsultCharge}}" >
         <form>
            <div style="padding-right: 10%;">
               <div ng-if="cardPage != 'consultCharge'" class="consultation_head RegularFontStyle consultChargeNoPlanText" >
                  <div class="consultTittle localizejs">Consultation Charge</div>
                  <div class="consultation_number" ng-if="adminSetlocale == 'en-GB'"> <span>&pound;{{consultationAmount}}*</span></div>
                  <div class="consultation_number" ng-if="adminSetlocale != 'en-GB'"> <span>{{currencySymbol}}{{consultationAmount}}*</span></div>
               </div>
               <div ng-if="cardPage != 'consultCharge'" class="consultation_head RegularFontStyle consultChargeNoPlanText" >
                  <div class="consultTittleCopay localizejs">Your Copay</div>
                  <div class="consultation_numberCopay" ng-if="adminSetlocale == 'en-GB'"> <span>&pound;{{copayAmount}}*</span></div>
                  <div class="consultation_numberCopay" ng-if="adminSetlocale != 'en-GB'"> <span>{{currencySymbol}}{{copayAmount}}*</span></div>
               </div>
               <div ng-if="cardPage == 'consultCharge'" class="consultation_head RegularFontStyle consultChargeNoPlanText" >
                  <div class="consultTittleCharge consultTittleChargeNew localizejs" style="font-size: 23px !important;">Consultation Charge</div>
                  <div><span class="consultation_number consultation-charge" ng-if="adminSetlocale == 'en-GB'">&pound;{{consultationAmount}}*</span></div>
                  <div><span class="consultation_number consultation-charge" ng-if="adminSetlocale != 'en-GB'">{{currencySymbol}}{{consultationAmount}}*</span></div>
               </div>
            </div>
            <div class="password_home contentPayHome">
               <div class="healthPlan_header consultCard" style="display: {{enableSubmitpaymentAddCard}}" >
                  <!--<div class="healthPlan_text NoPlanText payCardText"  >Select your payment card</div>
                    <span class="insuranceedit" ng-click="editpaymentcard()" style="display: {{editcard}};">Edit this card <i class="iconfontSVG" ng-bind-html="drawSVGCIconForVideo('new-message')"></i></span>-->
                    <h4 class="insurancelist">
                      <div class="selectInsurancelist localizejs">Select your Payment card
                             <span class="insuranceedit localizejs" ng-if=" editCardStyle == 'block'" ng-click="editpaymentcard('submitPay')" ><span class="localizejs">Edit this card</span> <i class="iconfontSVG" ng-bind-html="drawSVGCIconForVideo('new-message')"></i></span>
                       </div>
                    </h4>
                  <div class="addHealthPlan_header NoPlanAddCardDropdown noPlanContainer-{{deviceName}}"  >
                     <div  class="dropdownContainer">

                          <div id="cardViewport" class="cardViewport" style="margin-top: 3px;">
                              <div ng-if="!iscancel">
                                <div class="insCardName" ng-if="userCardType != 'logoNone'"><img class="cardlogo" src="{{userCardType}}">
                                </div>
                                <div class="insCardName" ng-if="userCardType == 'logoNone'"> <i class="iconfontSVG"><svg version="1.1" id="Credit_card" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 3 150 55" enable-background="new 0 3 150 55" width="10cm" height="10cm" preserveAspectRatio="xMinYMin meet" ><path d="M18,3H2C0.899,3,0,3.9,0,5v10c0,1.1,0.899,2,2,2h16c1.1,0,2-0.9,2-2V5C20,3.9,19.1,3,18,3z M18,15H2V9h16V15z M18,6H2V5h16    V6z M4,11.1v0.6h0.6v-0.6H4z M7.6,12.299V12.9h1.2v-0.601h0.6v-0.6H10v-0.6H8.8v0.6H8.199v0.6H7.6z M10,12.9v-0.601H9.399V12.9H10z     M7,12.9v-0.601H5.8V12.9H7z M7.6,11.699h0.6v-0.6H7v1.199h0.6V11.699z M5.199,12.299H5.8v-0.6h0.6v-0.6h-1.2v0.6H4.6v0.6H4V12.9    h1.199V12.299z"></path></svg></i></div>
                                <div class="insCardNumber">{{ 'XXXX-XXXX-XXXX-'+userCardNumber}}</div>
                              </div>
                              <div class="insCHooseProviderName" id="cardViewport" style="top: 1px !important;" ng-if="iscancel"><b class="localizejs">Choose Your Card</b></div>
                          </div>
                          <!-- <div ng-if="userCardNumber == 'Choose Your Card'" id="cardViewport" class="cardViewport" style="margin-top: 8px;">
                            <div class="insCardNumber">{{userCardNumber}}</div>
                          </div> -->
                        <select class="consultHealthPlanDropDown localizejs" id="addNewCard_submitPay" name="addNewCard_submitPay" ng-model="cardPaymentId.addNewCard" ng-change="cardchange('submitPay')" style="border: none;">
                           <option class="localizejs" value="Choose Your Card" ng-selected="iscancel"><b class="localizejs">Choose Your Card</b></option>
                           <option  ng-repeat="getPayment in PaymentProfile" value="{{getPayment.profileID + '@' + getPayment.cardType + '@' + getPayment.cardNumber + '@' + getPayment.cardLogo}}" ng-selected="userCardDetails == getPayment.profileID"><b>
                              <span class="localizejs">{{getPayment.cardType + '       '}}</span>  <span >{{ + '             ' +  'XXXX-XXXX-XXXX-'+getPayment.cardNumber}}</span></b></option>
                           <option value="Add a new card" ng-if="totalPaymentCard != 10"  ><b class="localizejs">Add a new card</b></option>
                        </select>
                     </div>
                  </div>
               </div>
               <div class="SkipToPayment" style="display: {{enableSubmitpaymentAddCard}}; padding-top: 23%;">
                  <button type="submit" ng-click='doPostCoPayDetails()'  class="button button-block button-balanced" style="padding: 3px;">
                  <span class="localizejs">Submit Payment</span>
                  </button>
               </div>
               <div class="scheduled_appointments_text NoPlanBottomText" style="display: {{textAddCard}}">
                  <p class="localizejs">*There may be additional fees or charges based on the outcome of this consultation. By submitting payment, I understand I may be billed for these charges after this consultation is completed.</p>
               </div>
               <div class="SkipToPayment" style="padding-top: 133px; display: {{continueAddCard}}">
                  <button type="submit" ng-click='doGetReceipt()'  class="button button-block button-balanced">
                  <span class="localizejs">Continue</span>
                  </button>
               </div>
            </div>
         </form>
      </ion-content>
      <!-- <div class="hide-on-keyboard-open"> -->
         <!-- <ion-footer-bar align-title="left" class="footer" hide-on-keyboard="true">
            <div class="ConsultChargeFooter">
               <div class="ConsultChargeBack" >

                  <a ng-if="cardPage == 'consultCharge'" class="button_new icon ion-chevron-left" ng-click="goToPreviosPage()" ><span class="localizejs" style="top: 3px;position: absolute;"> Back</span></a>

               </div>
               <div ng-if="cardPage == 'consultCharge'" class="ConsultChargeCancel"  >
                  <a class="button_new icon localizejs" ng-click="cancelConsultation()" >Cancel</a>
               </div>
               <div ng-if="cardPage != 'consultCharge'" class="ConsultChargeCancel" style="width: 100%;" >
                  <a class="button_new icon localizejs" ng-click="cancelConsultation()" >Cancel</a>
               </div>
            </div>
         </ion-footer-bar> -->

         <ion-footer-bar class="bar bar-footer footer" hide-on-keyboard="true">
            <div class="button button-clear" ng-click="goToPreviosPage();" ng-if="cardPage == 'consultCharge'">
                <a class="button_new icon ion-chevron-left iconVer" style="position: relative;top:-2px;" >
                    <span class="localizejs backText"> Back</span>
                </a>
            </div>
            <div ng-if="cardPage == 'consultCharge'" class="title titleLineheight"  style="height:auto;">
                <a class="button_new icon localizejs cancelText iconVer " style="{{PatientConcernCancel}}" ng-click="cancelConsultation()">
                    <span>Cancel</span>
                </a>
            </div>

            <div ng-if="cardPage != 'consultCharge'" class="title titleLineheight"  style="height:auto;">
                <a class="button_new icon localizejs cancelText iconVer " style="{{PatientConcernCancel}}" ng-click="cancelConsultation()">
                    <span>Cancel</span>
                </a>
            </div> 
        </ion-footer-bar>
      <!-- </div> -->
   </ion-side-menu-content>
   <!--Side Menu File Include --->
   <div ng-include src="'templates/SideMenu.html'"></div>
</ion-view>
